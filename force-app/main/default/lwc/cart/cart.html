<template>
    <template if:true={cartItems.length}>
        <div class="cart">
            <h2 class="cart__title">Your cart</h2>
            <table>
                <tr class="cart__row">
                    <td class="cart__data">
                        <h2 class="cart__header">Quantity</h2>
                    </td>
                    <td class="cart__data">
                        <h2 class="cart__header">Author</h2>
                    </td>
                    <td class="cart__data">
                        <h2 class="cart__header">Title</h2>
                    </td>
                    <td class="cart__data">
                        <h2 class="cart__header">Prize</h2>
                    </td>
                </tr>
                <template for:each={cartItems} for:item="item" for:index="index">
                    <tr key={item.Id} class="cart__row">
                        <td class="cart__data">
                            <button class="cart__quantity" value={index} onclick={handleAddClick}>+</button>
                            <p>{item.Quantity__c}</p>
                            <button class="cart__quantity" value={index} onclick={handleSubstractClick}>-</button>
                        </td>
                        <td class="cart__data">{item.Book__r.Author__c}</td>
                        <td class="cart__data">{item.Book__r.Title__c}</td>
                        <td class="cart__data">{item.Prize_sum__c}$</td>
                    </tr>
                </template>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>{prizeSum}</td>
                </tr>
            </table>
            <div class="buttons">
                <button class="buttons__button buttons__button-clear" onclick={handleClear}>Clear cart</button>
                <button class="buttons__button" onclick={handleComplete}>Go to check out</button>
            </div>  
        </div>
    </template>
    <template if:false={cartItems.length}>
        <div class="empty">
            <p class="empty__text">Your cart is empty.</p>
            <c-button text="Check out our books" onclick={handleCheckOutOurBooks}></c-button>
        </div>
    </template>
</template>